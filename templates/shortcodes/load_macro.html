{% set section = topic_name %} 
{% set data = load_data(path="static/toml/topic_macros.toml") %}
{% set data = data[section] %} {# Access the specified section dynamically #}
<div class="load_macro">
  <div class="code-block-container">
    <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
    <div class="txt">{{ data.content }}</div>
  </div>
</div>
<link rel="stylesheet" href="/css/load_macro.css">
<!-- For top right copy button -->
<script>
  function copyToClipboard(button) {
    const codeBlock = button.nextElementSibling; // Get the sibling `.txt` div
    const text = codeBlock.textContent || codeBlock.innerText;
    
    navigator.clipboard.writeText(text).then(() => {
      button.textContent = "Copied!"; // Temporarily change button text
      setTimeout(() => button.textContent = "Copy", 2000); // Revert after 2 seconds
    }).catch(err => {
      console.error("Failed to copy text: ", err);
      button.textContent = "Error";
      setTimeout(() => button.textContent = "Copy", 2000);
    });
  }
</script>
