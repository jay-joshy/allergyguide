{% macro status_badge(status, msg) %}
{# Map status to class and human-readable label #}

{% if status == "wip" %}
{% set badge_class = "badge-wip" %}
{% set label_text = "Work in progress" %}

{% elif status == "ready" %}
{% set badge_class = "badge-ready" %}
{% set label_text = "Ready" %}

{% elif status == "not-started" %}
{% set badge_class = "badge-not-started" %}
{% set label_text = "Not started" %}

{% else %}
{{ throw(message = status ~ " is not a valid option. Only not-started, wip, or ready are accepted.") }}
{% endif %}

{# When msg is empty, render dot variant via class; if msg present, render pill with text #}
{% if msg %}
{% set variant_class = "" %}
{% else %}
{% set variant_class = " is-dot" %}
{% endif %}

<span class="status-badge {{ badge_class }}{{ variant_class }}"
      data-status="{{ status }}"
      aria-label="{{ label_text }}"
      title="{% if msg %}{{ msg }}{% else %}{{ label_text }}{% endif %}"
>
	{% if msg %}{{ msg }}{% endif %}
</span>
{% endmacro status_badge %}
