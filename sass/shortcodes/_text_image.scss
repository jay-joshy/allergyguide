.text_image {
    // Contain floats originating from inside text-content
    .text-content {
        &::after {
            content: "";
            display: table;
            clear: both;
        }
    }

    // Paragraph typography inside text area
    .text-content p {
        text-align: justify;
        text-justify: inter-word;
        overflow-wrap: break-word;
        word-break: normal;
    }

    // Shared styles for the image container whether it's a <figure> or a div.image-content
    .text-image-figure,
    .image-content {
        float: right; // default: image on the right, text wraps on the left
        max-width: 50%; // max width of the photo;
        margin: 0.25rem 0 0.5rem 1.5rem; // top | right | bottom | left
    }

    // If text_position explicitly sets image on the left
    &.text_position_right {
        .text-image-figure,
        .image-content {
            float: left;
            margin: 0.25rem 1.5rem 0.75rem 0; // top | right | bottom | left
        }
    }

    // If text_position explicitly sets image on the right
    &.text_position_left {
        .text-image-figure,
        .image-content {
            float: right;
            margin: 0.25rem 0 0.5rem 1.5rem; // top | right | bottom | left
        }
    }

    // Image and caption styling
    .image-content,
    .text-image-figure {
        // Ensure vertical stacking of image and caption when floated
        display: block;
        text-align: inherit;

        img {
            display: block;
            width: 100%;
            max-width: 100%;
            height: auto;
            max-height: 25rem;
        }
    }

    // Caption default styling
    .caption,
    figcaption.caption {
        font-size: 0.9rem;
        line-height: 1.3;
        margin-top: 0.4rem;
    }

    .caption p {
        margin: 0;
        text-align: center;
        font-size: 0.9rem;
    }

    // Portrait: stack image above text (no float)
    @media (orientation: portrait) {
        .text-image-figure,
        .image-content {
            float: none !important;
            clear: both;
            max-width: 100%;
            margin: 0 0 0.75rem 0 !important;
        }

        // Center image and caption when stacked
        .image-content,
        .text-image-figure {
            text-align: center;
        }

        .caption,
        figcaption.caption,
        .caption p {
            text-align: center;
        }
    }
}
